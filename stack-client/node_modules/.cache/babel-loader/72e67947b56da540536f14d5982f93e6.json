{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\keuda\\\\Desktop\\\\react\\\\react\\\\project\\\\stack-client\\\\src\\\\components\\\\oneProduct.js\";\nimport React from 'react';\nimport '../App.css';\nconst initialState = {\n  products: [],\n  comment: \"\",\n  confirmButton: \"Send\"\n};\n\nclass oneProduct extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const isValid = this.validate();\n\n      if (isValid) {\n        console.log(this.state);\n        api.product().fetchAll().then(res => {\n          const pro = res.data.filter(product => product.name === this.state.name && product.category === this.state.category);\n\n          if (pro.length > 0 || this.state.id !== \"\") {\n            if (this.state.id !== \"\" && pro[0].name === this.state.name && this.state.category === pro[0].category || pro.length === 0) {\n              api.product().update(this.state.id, this.state).then(res => {\n                ButterToast.raise({\n                  content: /*#__PURE__*/React.createElement(Cinnamon.Crisp, {\n                    title: \"Online Store\",\n                    content: \"Product Edit successfully\",\n                    scheme: Cinnamon.Crisp.SCHEME_PURPLE,\n                    icon: /*#__PURE__*/React.createElement(AssignmentTurnedIn, {\n                      __self: this,\n                      __source: {\n                        fileName: _jsxFileName,\n                        lineNumber: 50,\n                        columnNumber: 43\n                      }\n                    }),\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 47,\n                      columnNumber: 42\n                    }\n                  })\n                });\n                this.setState(initialState);\n                this.componentDidMount();\n              });\n            } else {\n              ButterToast.raise({\n                content: /*#__PURE__*/React.createElement(Cinnamon.Crisp, {\n                  title: \"Online Store\",\n                  content: \"This Product Already Exists!\",\n                  scheme: Cinnamon.Crisp.SCHEME_PURPLE,\n                  icon: /*#__PURE__*/React.createElement(ExtensionSharp, {\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 61,\n                      columnNumber: 39\n                    }\n                  }),\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 58,\n                    columnNumber: 38\n                  }\n                })\n              });\n            }\n          } else {\n            api.product().create(this.state).then(res => {\n              ButterToast.raise({\n                content: /*#__PURE__*/React.createElement(Cinnamon.Crisp, {\n                  title: \"Online Store\",\n                  content: \"Product Add successfully\",\n                  scheme: Cinnamon.Crisp.SCHEME_PURPLE,\n                  icon: /*#__PURE__*/React.createElement(AssignmentTurnedIn, {\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 72,\n                      columnNumber: 39\n                    }\n                  }),\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 69,\n                    columnNumber: 38\n                  }\n                })\n              });\n              this.setState(initialState);\n              this.componentDidMount();\n            });\n          }\n        });\n      }\n    };\n\n    this.validate = () => {\n      let nameError = \"\";\n      let priceError = \"\";\n      let discountError = \"\";\n      let categoryError = \"\";\n      let quantityError = \"\";\n      let imageError = \"\";\n\n      if (!this.state.name) {\n        nameError = \"Product Name Cannot Be Blank\";\n      }\n\n      if (!this.state.image) {\n        imageError = \"Image Required!\";\n      }\n\n      if (!this.state.price) {\n        priceError = \"Price Cannot Be Blank\";\n      } else if (isNaN(this.state.price)) {\n        priceError = \"Use only digits!\";\n      }\n\n      if (!this.state.discount) {\n        discountError = \"Discount Cannot Be Blank\";\n      } else if (isNaN(this.state.discount)) {\n        discountError = \"Use only digits!\";\n      }\n\n      if (!this.state.category) {\n        categoryError = \"seelect category!\";\n      }\n\n      if (!this.state.quantity) {\n        quantityError = \"Quantity Cannot Be Blank\";\n      } else if (isNaN(this.state.quantity)) {\n        quantityError = \"Use only digits!\";\n      }\n\n      if (nameError || quantityError || categoryError || discountError || priceError || imageError) {\n        this.setState({\n          nameError,\n          quantityError,\n          categoryError,\n          discountError,\n          priceError,\n          imageError\n        });\n        return false;\n      } else {\n        this.setState({\n          nameError,\n          quantityError,\n          categoryError,\n          discountError,\n          priceError,\n          imageError\n        });\n      }\n\n      return true;\n    };\n\n    this.state = initialState;\n  }\n\n  onClear() {\n    this.setState(initialState);\n    this.componentDidMount();\n  }\n\n  componentDidMount() {\n    const purl = \"http://localhost:4000/product\";\n    fetch(purl).then(response => response.json()).then(json => {\n      const pro = json.filter(pro => pro._id === localStorage.getItem('itemId'));\n      this.setState({\n        products: pro\n      });\n    });\n  }\n\n  onBuy(id) {\n    localStorage.setItem(\"itemId\", id);\n    window.location.href = '/product';\n  }\n\n  render() {\n    if (localStorage.getItem('userEmail')) {\n      const {\n        products\n      } = this.state;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        class: \"container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 26\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"row justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col-md-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"card-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"table\", {\n        class: \"table\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 41\n        }\n      }, products.map(product => /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        class: \"tableTh\",\n        width: \"35%\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        width: \"200px\",\n        alt: \"\",\n        src: \"http://localhost:4000/\" + product.image,\n        class: \"img-thumbnail\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 81\n        }\n      })), /*#__PURE__*/React.createElement(\"td\", {\n        class: \"tableTh\",\n        width: \"65%\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 81\n        }\n      }, product.name), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 107\n        }\n      }), /*#__PURE__*/React.createElement(\"h5\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 112\n        }\n      }, \"category :\", product.name, \" / Price: Rs. \", product.price), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 49\n        }\n      }), /*#__PURE__*/React.createElement(\"h5\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 54\n        }\n      }, \"Discount : Rs. \", product.discount), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 49\n        }\n      }), /*#__PURE__*/React.createElement(\"h5\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 54\n        }\n      }, \"Available Quantity : \", product.quantity), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 49\n        }\n      }), \"Quantity : \", /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        style: {\n          width: \"50px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 65\n        }\n      }), \"/\", product.quantity, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 131\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 49\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        onClick: () => this.onBuy(product._id),\n        class: \"btn btn-success\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 54\n        }\n      }, \"BUY\")))))), /*#__PURE__*/React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 37\n        }\n      }), /*#__PURE__*/React.createElement(\"form\", {\n        autoComplete: \"off\",\n        onSubmit: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"form-group row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        class: \"col-md-4 col-form-label text-md-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 45\n        }\n      }, \"Your Comment\"), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col-md-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        class: \"form-control\",\n        name: \"comment\",\n        value: this.state.comment,\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 49\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          color: \"red\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 49\n        }\n      }, this.state.commentError))), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col-md-4 offset-md-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"submit\",\n        class: \"btn btn-primary\",\n        value: this.state.confirmButton,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 45\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"button\",\n        class: \"btn btn-danger\",\n        value: \"Clear\",\n        onClick: () => this.onClear(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 45\n        }\n      }))))))));\n    }\n  }\n\n}\n\nexport default oneProduct;","map":{"version":3,"sources":["C:/Users/keuda/Desktop/react/react/project/stack-client/src/components/oneProduct.js"],"names":["React","initialState","products","comment","confirmButton","oneProduct","Component","constructor","props","handleSubmit","e","preventDefault","isValid","validate","console","log","state","api","product","fetchAll","then","res","pro","data","filter","name","category","length","id","update","ButterToast","raise","content","Cinnamon","Crisp","SCHEME_PURPLE","setState","componentDidMount","create","nameError","priceError","discountError","categoryError","quantityError","imageError","image","price","isNaN","discount","quantity","onClear","purl","fetch","response","json","_id","localStorage","getItem","onBuy","setItem","window","location","href","render","map","width","handleChange","color","commentError"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport '../App.css';\r\n\r\nconst initialState = {\r\n    products: [],\r\n    comment: \"\",\r\n    confirmButton: \"Send\"\r\n}\r\n\r\nclass oneProduct extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = initialState;\r\n    }\r\n\r\n    onClear(){\r\n        this.setState(initialState);\r\n        this.componentDidMount();\r\n    }\r\n\r\n    componentDidMount() {\r\n        const purl = \"http://localhost:4000/product\";\r\n        fetch(purl).then(response => response.json())\r\n        .then(json => {const pro = json.filter(pro => pro._id===localStorage.getItem('itemId'))\r\n            this.setState({products: pro})\r\n        })\r\n    }\r\n\r\n    onBuy(id){\r\n        localStorage.setItem(\"itemId\",id);\r\n        window.location.href = '/product';\r\n    }\r\n\r\n    handleSubmit = e => {\r\n        e.preventDefault();\r\n        const isValid = this.validate();\r\n        if(isValid){\r\n            console.log(this.state);\r\n            api.product().fetchAll().then(res => {\r\n                const pro = res.data.filter( product => (product.name===this.state.name&&product.category===this.state.category));\r\n                if(pro.length>0||this.state.id!==\"\"){\r\n                    if((this.state.id!==\"\"&&pro[0].name===this.state.name&&this.state.category===pro[0].category)||pro.length===0){\r\n                        api.product().update(this.state.id,this.state)\r\n                        .then(res => {\r\n                            ButterToast.raise({\r\n                                content: <Cinnamon.Crisp title=\"Online Store\"\r\n                                    content=\"Product Edit successfully\"\r\n                                    scheme={Cinnamon.Crisp.SCHEME_PURPLE}\r\n                                    icon={<AssignmentTurnedIn />}\r\n                                />\r\n                            })\r\n                            this.setState(initialState)\r\n                            this.componentDidMount()\r\n                        } );\r\n                    } else {\r\n                        ButterToast.raise({\r\n                            content: <Cinnamon.Crisp title=\"Online Store\"\r\n                                content=\"This Product Already Exists!\"\r\n                                scheme={Cinnamon.Crisp.SCHEME_PURPLE}\r\n                                icon={<ExtensionSharp />}\r\n                            />\r\n                        });\r\n                    }\r\n                }else{\r\n                    api.product().create(this.state)\r\n                    .then(res => {\r\n                        ButterToast.raise({\r\n                            content: <Cinnamon.Crisp title=\"Online Store\"\r\n                                content=\"Product Add successfully\"\r\n                                scheme={Cinnamon.Crisp.SCHEME_PURPLE}\r\n                                icon={<AssignmentTurnedIn />}\r\n                            />\r\n                        })\r\n                        this.setState(initialState)\r\n                        this.componentDidMount()\r\n                    } );\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    validate = () => {\r\n        let nameError = \"\";\r\n        let priceError = \"\";\r\n        let discountError = \"\";\r\n        let categoryError = \"\";\r\n        let quantityError = \"\";\r\n        let imageError = \"\";\r\n\r\n        if(!this.state.name){\r\n            nameError=\"Product Name Cannot Be Blank\"\r\n        }\r\n\r\n        if(!this.state.image){\r\n            imageError=\"Image Required!\"\r\n        }\r\n\r\n        if(!this.state.price){\r\n            priceError=\"Price Cannot Be Blank\"\r\n        }else if(isNaN(this.state.price)){\r\n            priceError = \"Use only digits!\";\r\n        }\r\n\r\n        if(!this.state.discount){\r\n            discountError=\"Discount Cannot Be Blank\"\r\n        }else if(isNaN(this.state.discount)){\r\n            discountError = \"Use only digits!\";\r\n        }\r\n\r\n        if(!this.state.category){\r\n            categoryError=\"seelect category!\"\r\n        }\r\n\r\n        if(!this.state.quantity){\r\n            quantityError=\"Quantity Cannot Be Blank\"\r\n        }else if(isNaN(this.state.quantity)){\r\n            quantityError = \"Use only digits!\";\r\n        }\r\n\r\n        if(nameError||quantityError||categoryError||discountError||priceError||imageError){\r\n            this.setState({ nameError ,quantityError ,categoryError,discountError,priceError,imageError});\r\n            return false;\r\n        }else{\r\n            this.setState({ nameError ,quantityError ,categoryError,discountError,priceError,imageError});\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    render (){\r\n        if(localStorage.getItem('userEmail')){\r\n            const { products } = this.state;\r\n            return (\r\n                <div class=\"container\">\r\n                <br></br><br></br>\r\n                    <div class=\"row justify-content-center\">\r\n                        <div class=\"col-md-12\">\r\n                            <div class=\"card\">\r\n                                <div class=\"card-body\">\r\n                                    <table class=\"table\">\r\n                                        <tbody>\r\n                                        {\r\n                                            products.map((product) =>\r\n\r\n                                            <tr>\r\n                                                <td class=\"tableTh\" width=\"35%\"><img width=\"200px\" alt=\"\" src={ \"http://localhost:4000/\"+product.image } class=\"img-thumbnail\" /></td>\r\n                                                <td class=\"tableTh\" width=\"65%\"><h3>{ product.name  }</h3><br/><h5>category :{ product.name  } / Price: Rs. { product.price }</h5>\r\n                                                <br/><h5>Discount : Rs. { product.discount }</h5>\r\n                                                <br/><h5>Available Quantity : { product.quantity }</h5>\r\n                                                <br/>Quantity : <input type='text' style={{width: \"50px\"}} />/{ product.quantity }<br/>\r\n                                                <br/><button type='button' onClick={() => this.onBuy(product._id)} class='btn btn-success'>BUY</button>\r\n                                                </td>\r\n                                            </tr>\r\n                                        )}\r\n                                        </tbody>\r\n                                    </table>\r\n                                    <hr/>\r\n                                    <form autoComplete=\"off\" onSubmit={this.handleSubmit}>\r\n                                        <div class=\"form-group row\">\r\n                                            <label class=\"col-md-4 col-form-label text-md-right\">Your Comment</label>\r\n                                            <div class=\"col-md-6\">\r\n                                                <input type=\"text\" class=\"form-control\" name=\"comment\" value={this.state.comment} onChange={this.handleChange} />\r\n                                                <div style={{color : \"red\"}}>{this.state.commentError}</div>\r\n                                            </div>\r\n                                        </div>\r\n                                               \r\n                                        <div class=\"col-md-4 offset-md-4\">\r\n                                            <input type=\"submit\" class=\"btn btn-primary\" value={this.state.confirmButton} />\r\n                                            <input type=\"button\" class=\"btn btn-danger\" value=\"Clear\" onClick={() => this.onClear()} />\r\n                                        </div>\r\n                                    </form>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport default oneProduct;\r\n"]},"metadata":{},"sourceType":"module"}