{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\keuda\\\\Desktop\\\\react\\\\new\\\\afAssignment\\\\stack-client\\\\src\\\\components\\\\all_product.js\";\nimport React from 'react';\nimport '../App.css';\nimport proApi from \"../actions/productApi.js\";\nimport ButterToast, { Cinnamon } from \"butter-toast\";\nimport { AssignmentTurnedIn, ExtensionSharp } from \"@material-ui/icons\";\nimport axios from 'axios';\nconst initialState = {\n  id: \"\",\n  name: \"\",\n  nameError: \"\",\n  description: \"\",\n  category: \"\",\n  descriptionError: \"\",\n  categoryError: \"\",\n  quantity: \"\",\n  quantityError: \"\",\n  price: \"\",\n  priceError: \"\",\n  discount: \"\",\n  discountError: \"\",\n  confirmButton: \"ADD\",\n  categories: [],\n  products: [],\n  selectedFile: \"\",\n  image: \"\"\n};\n\nclass Product extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      const isCheckbox = e.target.type === \"checkbox\";\n      this.setState({\n        [e.target.name]: isCheckbox ? e.target.checked : e.target.value\n      });\n    };\n\n    this.onChangeHandler = event => {\n      this.setState({\n        selectedFile: event.target.files[0],\n        loaded: 0\n      }, () => {\n        const data = new FormData();\n        data.append('file', this.state.selectedFile);\n        axios.post(\"http://localhost:3500/product/upload\", data, {}).then(res => {\n          this.setState({\n            image: res.data.filename\n          });\n        });\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const isValid = this.validate();\n\n      if (isValid) {\n        console.log(this.state);\n        proApi.product().fetchAll().then(res => {\n          const pro = res.data.filter(product => product.name === this.state.name && product.category === this.state.category);\n\n          if (pro.length > 0 || this.state.id !== \"\") {\n            if (this.state.id !== \"\" && pro[0].name === this.state.name && this.state.category === pro[0].category || pro.length === 0) {\n              proApi.product().update(this.state.id, this.state).then(res => {\n                ButterToast.raise({\n                  content: /*#__PURE__*/React.createElement(Cinnamon.Crisp, {\n                    title: \"Online Store\",\n                    content: \"Product Edit successfully\",\n                    scheme: Cinnamon.Crisp.SCHEME_PURPLE,\n                    icon: /*#__PURE__*/React.createElement(AssignmentTurnedIn, {\n                      __self: this,\n                      __source: {\n                        fileName: _jsxFileName,\n                        lineNumber: 114,\n                        columnNumber: 43\n                      }\n                    }),\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 111,\n                      columnNumber: 42\n                    }\n                  })\n                });\n                this.setState(initialState);\n                this.componentDidMount();\n              });\n            } else {\n              ButterToast.raise({\n                content: /*#__PURE__*/React.createElement(Cinnamon.Crisp, {\n                  title: \"Online Store\",\n                  content: \"This Product Already Exists!\",\n                  scheme: Cinnamon.Crisp.SCHEME_PURPLE,\n                  icon: /*#__PURE__*/React.createElement(ExtensionSharp, {\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 125,\n                      columnNumber: 39\n                    }\n                  }),\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 122,\n                    columnNumber: 38\n                  }\n                })\n              });\n            }\n          } else {\n            proApi.product().create(this.state).then(res => {\n              ButterToast.raise({\n                content: /*#__PURE__*/React.createElement(Cinnamon.Crisp, {\n                  title: \"Online Store\",\n                  content: \"Product Add successfully\",\n                  scheme: Cinnamon.Crisp.SCHEME_PURPLE,\n                  icon: /*#__PURE__*/React.createElement(AssignmentTurnedIn, {\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 136,\n                      columnNumber: 39\n                    }\n                  }),\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 133,\n                    columnNumber: 38\n                  }\n                })\n              });\n              this.setState(initialState);\n              this.componentDidMount();\n            });\n          }\n        });\n      }\n    };\n\n    this.validate = () => {\n      let nameError = \"\";\n      let priceError = \"\";\n      let discountError = \"\";\n      let categoryError = \"\";\n      let quantityError = \"\";\n      let imageError = \"\";\n      let descriptionError = \"\";\n\n      if (!this.state.name) {\n        nameError = \"Product Name Cannot Be Blank\";\n      }\n\n      if (!this.state.description) {\n        descriptionError = \"Product Name Cannot Be Blank\";\n      }\n\n      if (!this.state.image) {\n        imageError = \"Image Required!\";\n      }\n\n      if (!this.state.price) {\n        priceError = \"Price Cannot Be Blank\";\n      } else if (isNaN(this.state.price)) {\n        priceError = \"Use only digits!\";\n      }\n\n      if (!this.state.discount) {\n        discountError = \"Discount Cannot Be Blank\";\n      } else if (isNaN(this.state.discount)) {\n        discountError = \"Use only digits!\";\n      }\n\n      if (!this.state.category) {\n        categoryError = \"seelect category!\";\n      }\n\n      if (!this.state.quantity) {\n        quantityError = \"Quantity Cannot Be Blank\";\n      } else if (isNaN(this.state.quantity)) {\n        quantityError = \"Use only digits!\";\n      }\n\n      if (nameError || quantityError || categoryError || discountError || priceError || imageError) {\n        this.setState({\n          nameError,\n          quantityError,\n          categoryError,\n          discountError,\n          priceError,\n          imageError\n        });\n        return false;\n      } else {\n        this.setState({\n          nameError,\n          quantityError,\n          categoryError,\n          discountError,\n          priceError,\n          imageError\n        });\n      }\n\n      return true;\n    };\n\n    this.state = initialState;\n  }\n\n  componentDidMount() {\n    const url = \"http://localhost:3500/category\";\n    fetch(url).then(response => response.json()).then(json => this.setState({\n      categories: json\n    }));\n    const purl = \"http://localhost:3500/product\";\n    fetch(purl).then(response => response.json()).then(json => this.setState({\n      products: json\n    }));\n  }\n\n  onChange(id) {\n    const url = \"http://localhost:3500/product/\";\n    fetch(url).then(response => response.json()).then(json => {\n      const pro = json.filter(pro => pro._id === id);\n      this.setState({\n        name: pro[0]['name'],\n        category: pro[0]['category'],\n        price: pro[0]['price'],\n        quantity: pro[0]['quantity'],\n        discount: pro[0]['discount'],\n        id: pro[0]['_id'],\n        image: pro[0]['image']\n      });\n    });\n    this.setState({\n      confirmButton: \"EDIT\"\n    });\n  }\n\n  onClear() {\n    this.setState(initialState);\n    this.componentDidMount();\n  }\n\n  onDelete(id) {\n    if (window.confirm(\"Are you sure to delete this record?\")) {\n      proApi.product().delete(id).then(res => {\n        ButterToast.raise({\n          content: /*#__PURE__*/React.createElement(Cinnamon.Crisp, {\n            title: \"Online Store\",\n            content: \"Delete Successful!\",\n            scheme: Cinnamon.Crisp.SCHEME_PURPLE,\n            icon: /*#__PURE__*/React.createElement(AssignmentTurnedIn, {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 31\n              }\n            }),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 30\n            }\n          })\n        });\n        this.componentDidMount();\n      });\n    }\n  }\n\n  render() {\n    if (localStorage.getItem('userEmail')) {\n      const {\n        categories,\n        products\n      } = this.state;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        class: \"container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 26\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"row justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col-md-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"card-header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 33\n        }\n      }, \"Product\"), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"card-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        autoComplete: \"off\",\n        onSubmit: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"form-group row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        class: \"col-md-4 col-form-label text-md-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 45\n        }\n      }, \"Product Name\"), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col-md-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        class: \"form-control\",\n        name: \"name\",\n        value: this.state.name,\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 49\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          color: \"red\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 49\n        }\n      }, this.state.nameError))), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"form-group row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        class: \"col-md-4 col-form-label text-md-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 45\n        }\n      }, \"Category\"), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col-md-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"select\", {\n        class: \"form-control\",\n        name: \"category\",\n        onChange: this.handleChange,\n        value: this.state.category,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        value: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 53\n        }\n      }, \"~select~\"), categories.map(category => /*#__PURE__*/React.createElement(\"option\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 57\n        }\n      }, category.name))), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          color: \"red\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 49\n        }\n      }, this.state.categoryError))), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"form-group row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        class: \"col-md-4 col-form-label text-md-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 45\n        }\n      }, \"Quantity\"), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col-md-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        class: \"form-control\",\n        name: \"quantity\",\n        value: this.state.quantity,\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 49\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          color: \"red\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 49\n        }\n      }, this.state.quantityError))), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"form-group row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        class: \"col-md-4 col-form-label text-md-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 45\n        }\n      }, \"Price\"), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col-md-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        class: \"form-control\",\n        name: \"price\",\n        value: this.state.price,\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 49\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          color: \"red\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 49\n        }\n      }, this.state.priceError))), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"form-group row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        class: \"col-md-4 col-form-label text-md-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 45\n        }\n      }, \"Discount\"), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col-md-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        class: \"form-control\",\n        name: \"discount\",\n        value: this.state.discount,\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 49\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          color: \"red\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 49\n        }\n      }, this.state.discountError))), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"form-group row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        class: \"col-md-4 col-form-label text-md-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 45\n        }\n      }, \"Image\"), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col-md-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"file\",\n        class: \"form-control\",\n        name: \"file\",\n        onChange: this.onChangeHandler,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 49\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          color: \"red\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 49\n        }\n      }, this.state.imageError))), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col-md-4 offset-md-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"submit\",\n        class: \"btn btn-primary\",\n        value: this.state.confirmButton,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 45\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"button\",\n        class: \"btn btn-danger\",\n        value: \"Clear\",\n        onClick: () => this.onClear(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 45\n        }\n      }))), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 37\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"x_scroll\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"table\", {\n        class: \"table\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        class: \"tableTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 53\n        }\n      }, \"name\"), /*#__PURE__*/React.createElement(\"th\", {\n        class: \"tableTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 53\n        }\n      }, \"Category\"), /*#__PURE__*/React.createElement(\"th\", {\n        class: \"tableTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 53\n        }\n      }, \"Quantity\"), /*#__PURE__*/React.createElement(\"th\", {\n        class: \"tableTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 53\n        }\n      }, \"Price\"), /*#__PURE__*/React.createElement(\"th\", {\n        class: \"tableTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 53\n        }\n      }, \"Discount\"), /*#__PURE__*/React.createElement(\"th\", {\n        class: \"tableTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 53\n        }\n      }, \"Image\"), /*#__PURE__*/React.createElement(\"th\", {\n        class: \"tableTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 53\n        }\n      }, \"Edit\"), /*#__PURE__*/React.createElement(\"th\", {\n        class: \"tableTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 53\n        }\n      }, \"Remove\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 45\n        }\n      }, products.map(product => /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        class: \"tableTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 53\n        }\n      }, product.name), /*#__PURE__*/React.createElement(\"td\", {\n        class: \"tableTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 53\n        }\n      }, product.category), /*#__PURE__*/React.createElement(\"td\", {\n        class: \"tableTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 53\n        }\n      }, product.quantity), /*#__PURE__*/React.createElement(\"td\", {\n        class: \"tableTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 53\n        }\n      }, product.price), /*#__PURE__*/React.createElement(\"td\", {\n        class: \"tableTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 53\n        }\n      }, product.discount), /*#__PURE__*/React.createElement(\"td\", {\n        class: \"tableTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 53\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        width: \"100px\",\n        alt: \"\",\n        src: \"http://localhost:3500/\" + product.image,\n        class: \"img-thumbnail\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 73\n        }\n      })), /*#__PURE__*/React.createElement(\"td\", {\n        class: \"tableTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 53\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        onClick: () => this.onChange(product._id),\n        class: \"btn btn-success\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 73\n        }\n      }, \"Edit\")), /*#__PURE__*/React.createElement(\"td\", {\n        class: \"tableTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 53\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        onClick: () => this.onDelete(product._id),\n        class: \"btn btn-danger\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 73\n        }\n      }, \"Delete\"))))))))))));\n    }\n  }\n\n}\n\nexport default Product;","map":{"version":3,"sources":["C:/Users/keuda/Desktop/react/new/afAssignment/stack-client/src/components/all_product.js"],"names":["React","proApi","ButterToast","Cinnamon","AssignmentTurnedIn","ExtensionSharp","axios","initialState","id","name","nameError","description","category","descriptionError","categoryError","quantity","quantityError","price","priceError","discount","discountError","confirmButton","categories","products","selectedFile","image","Product","Component","constructor","props","handleChange","e","isCheckbox","target","type","setState","checked","value","onChangeHandler","event","files","loaded","data","FormData","append","state","post","then","res","filename","handleSubmit","preventDefault","isValid","validate","console","log","product","fetchAll","pro","filter","length","update","raise","content","Crisp","SCHEME_PURPLE","componentDidMount","create","imageError","isNaN","url","fetch","response","json","purl","onChange","_id","onClear","onDelete","window","confirm","delete","render","localStorage","getItem","color","map"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport '../App.css';\r\nimport proApi from \"../actions/productApi.js\";\r\nimport ButterToast, { Cinnamon } from \"butter-toast\";\r\nimport { AssignmentTurnedIn , ExtensionSharp } from \"@material-ui/icons\";\r\nimport axios from 'axios';\r\n\r\nconst initialState = {\r\n    id: \"\",\r\n    name: \"\",\r\n    nameError: \"\",\r\n    description: \"\",\r\n    category: \"\",\r\n    descriptionError: \"\",\r\n    categoryError: \"\",\r\n    quantity: \"\",\r\n    quantityError: \"\",\r\n    price: \"\",\r\n    priceError: \"\",\r\n    discount: \"\",\r\n    discountError: \"\",\r\n    confirmButton: \"ADD\",\r\n    categories: [],\r\n    products: [],\r\n    selectedFile: \"\",\r\n    image:\"\"\r\n}\r\n\r\nclass Product extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = initialState;\r\n    }\r\n\r\n    componentDidMount() {\r\n        const url = \"http://localhost:3500/category\";\r\n        fetch(url).then(response => response.json())\r\n        .then(json => this.setState({categories: json}))\r\n        const purl = \"http://localhost:3500/product\";\r\n        fetch(purl).then(response => response.json())\r\n        .then(json => this.setState({products: json}))\r\n    }\r\n\r\n    handleChange = e => {\r\n        const isCheckbox = e.target.type === \"checkbox\";\r\n        this.setState({\r\n            [e.target.name]: isCheckbox\r\n                ? e.target.checked\r\n                : e.target.value\r\n        });\r\n    }\r\n\r\n    onChange(id){\r\n        const url = \"http://localhost:3500/product/\";\r\n        fetch(url).then(response => response.json())\r\n        .then(json => {\r\n            const pro = json.filter(pro => pro._id===id)\r\n            this.setState({name: pro[0]['name'],category: pro[0]['category'],price: pro[0]['price'],quantity: pro[0]['quantity'],discount: pro[0]['discount'],id: pro[0]['_id'],image: pro[0]['image']})\r\n        })\r\n        this.setState({confirmButton:\"EDIT\"});\r\n    }\r\n\r\n    onClear(){\r\n        this.setState(initialState);\r\n        this.componentDidMount();\r\n    }\r\n\r\n    onDelete(id){\r\n        if (window.confirm(\"Are you sure to delete this record?\")) {\r\n            proApi.product().delete(id)\r\n            .then(res =>{\r\n                ButterToast.raise({\r\n                    content: <Cinnamon.Crisp title=\"Online Store\"\r\n                        content=\"Delete Successful!\"\r\n                        scheme={Cinnamon.Crisp.SCHEME_PURPLE}\r\n                        icon={<AssignmentTurnedIn />}\r\n                    />\r\n                })\r\n                this.componentDidMount()\r\n            });\r\n        }\r\n    }\r\n\r\n    onChangeHandler=event=>{\r\n        this.setState({\r\n            selectedFile: event.target.files[0],\r\n            loaded: 0,\r\n        }, () => {\r\n            const data = new FormData() \r\n            data.append('file', this.state.selectedFile)\r\n            axios.post(\"http://localhost:3500/product/upload\", data, { \r\n            }).then(res => { \r\n                this.setState({image:res.data.filename})\r\n            })\r\n        })\r\n    }\r\n\r\n    handleSubmit = e => {\r\n        e.preventDefault();\r\n        const isValid = this.validate();\r\n        if(isValid){\r\n            console.log(this.state);\r\n            proApi.product().fetchAll().then(res => {\r\n                const pro = res.data.filter( product => (product.name===this.state.name&&product.category===this.state.category));\r\n                if(pro.length>0||this.state.id!==\"\"){\r\n                    if((this.state.id!==\"\"&&pro[0].name===this.state.name&&this.state.category===pro[0].category)||pro.length===0){\r\n                        proApi.product().update(this.state.id,this.state)\r\n                        .then(res => {\r\n                            ButterToast.raise({\r\n                                content: <Cinnamon.Crisp title=\"Online Store\"\r\n                                    content=\"Product Edit successfully\"\r\n                                    scheme={Cinnamon.Crisp.SCHEME_PURPLE}\r\n                                    icon={<AssignmentTurnedIn />}\r\n                                />\r\n                            })\r\n                            this.setState(initialState)\r\n                            this.componentDidMount()\r\n                        } );\r\n                    } else {\r\n                        ButterToast.raise({\r\n                            content: <Cinnamon.Crisp title=\"Online Store\"\r\n                                content=\"This Product Already Exists!\"\r\n                                scheme={Cinnamon.Crisp.SCHEME_PURPLE}\r\n                                icon={<ExtensionSharp />}\r\n                            />\r\n                        });\r\n                    }\r\n                }else{\r\n                    proApi.product().create(this.state)\r\n                    .then(res => {\r\n                        ButterToast.raise({\r\n                            content: <Cinnamon.Crisp title=\"Online Store\"\r\n                                content=\"Product Add successfully\"\r\n                                scheme={Cinnamon.Crisp.SCHEME_PURPLE}\r\n                                icon={<AssignmentTurnedIn />}\r\n                            />\r\n                        })\r\n                        this.setState(initialState)\r\n                        this.componentDidMount()\r\n                    } );\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    validate = () => {\r\n        let nameError = \"\";\r\n        let priceError = \"\";\r\n        let discountError = \"\";\r\n        let categoryError = \"\";\r\n        let quantityError = \"\";\r\n        let imageError = \"\";\r\n        let descriptionError = \"\";\r\n\r\n        if(!this.state.name){\r\n            nameError=\"Product Name Cannot Be Blank\"\r\n        }\r\n\r\n        if(!this.state.description){\r\n            descriptionError=\"Product Name Cannot Be Blank\"\r\n        }\r\n\r\n        if(!this.state.image){\r\n            imageError=\"Image Required!\"\r\n        }\r\n\r\n        if(!this.state.price){\r\n            priceError=\"Price Cannot Be Blank\"\r\n        }else if(isNaN(this.state.price)){\r\n            priceError = \"Use only digits!\";\r\n        }\r\n\r\n        if(!this.state.discount){\r\n            discountError=\"Discount Cannot Be Blank\"\r\n        }else if(isNaN(this.state.discount)){\r\n            discountError = \"Use only digits!\";\r\n        }\r\n\r\n        if(!this.state.category){\r\n            categoryError=\"seelect category!\"\r\n        }\r\n\r\n        if(!this.state.quantity){\r\n            quantityError=\"Quantity Cannot Be Blank\"\r\n        }else if(isNaN(this.state.quantity)){\r\n            quantityError = \"Use only digits!\";\r\n        }\r\n\r\n        if(nameError||quantityError||categoryError||discountError||priceError||imageError){\r\n            this.setState({ nameError ,quantityError ,categoryError,discountError,priceError,imageError});\r\n            return false;\r\n        }else{\r\n            this.setState({ nameError ,quantityError ,categoryError,discountError,priceError,imageError});\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    render (){\r\n        if(localStorage.getItem('userEmail')){\r\n            const { categories , products } = this.state;\r\n            return (\r\n                <div class=\"container\">\r\n                <br></br><br></br>\r\n                    <div class=\"row justify-content-center\">\r\n                        <div class=\"col-md-10\">\r\n                            <div class=\"card\">\r\n                                <div class=\"card-header\">Product</div>\r\n                                <div class=\"card-body\">\r\n                                    <form autoComplete=\"off\" onSubmit={this.handleSubmit}>\r\n                                        <div class=\"form-group row\">\r\n                                            <label class=\"col-md-4 col-form-label text-md-right\">Product Name</label>\r\n                                            <div class=\"col-md-6\">\r\n                                                <input type=\"text\" class=\"form-control\" name=\"name\" value={this.state.name} onChange={this.handleChange} />\r\n                                                <div style={{color : \"red\"}}>{this.state.nameError}</div>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div class=\"form-group row\">\r\n                                            <label class=\"col-md-4 col-form-label text-md-right\">Category</label>\r\n                                            <div class=\"col-md-6\">\r\n                                                <select class=\"form-control\" name=\"category\" onChange={this.handleChange} value={this.state.category}>\r\n                                                    <option value=\"\">~select~</option>\r\n                                                {\r\n                                                    categories.map((category) =>\r\n                                                        <option>{ category.name }</option>\r\n                                                    )\r\n                                                }\r\n                                                </select>\r\n                                                <div style={{color : \"red\"}}>{this.state.categoryError}</div>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div class=\"form-group row\">\r\n                                            <label class=\"col-md-4 col-form-label text-md-right\">Quantity</label>\r\n                                            <div class=\"col-md-6\">\r\n                                                <input type=\"text\" class=\"form-control\" name=\"quantity\" value={this.state.quantity} onChange={this.handleChange} />\r\n                                                <div style={{color : \"red\"}}>{this.state.quantityError}</div>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div class=\"form-group row\">\r\n                                            <label class=\"col-md-4 col-form-label text-md-right\">Price</label>\r\n                                            <div class=\"col-md-6\">\r\n                                                <input type=\"text\" class=\"form-control\" name=\"price\" value={this.state.price} onChange={this.handleChange} />\r\n                                                <div style={{color : \"red\"}}>{this.state.priceError}</div>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div class=\"form-group row\">\r\n                                            <label class=\"col-md-4 col-form-label text-md-right\">Discount</label>\r\n                                            <div class=\"col-md-6\">\r\n                                                <input type=\"text\" class=\"form-control\" name=\"discount\" value={this.state.discount} onChange={this.handleChange} />\r\n                                                <div style={{color : \"red\"}}>{this.state.discountError}</div>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div class=\"form-group row\">\r\n                                            <label class=\"col-md-4 col-form-label text-md-right\">Image</label>\r\n                                            <div class=\"col-md-6\">\r\n                                                <input type=\"file\" class=\"form-control\" name=\"file\" onChange={this.onChangeHandler}/>\r\n                                                <div style={{color : \"red\"}}>{this.state.imageError}</div>\r\n                                            </div>\r\n                                        </div>\r\n                                                \r\n                                        <div class=\"col-md-4 offset-md-4\">\r\n                                            <input type=\"submit\" class=\"btn btn-primary\" value={this.state.confirmButton} />\r\n                                            <input type=\"button\" class=\"btn btn-danger\" value=\"Clear\" onClick={() => this.onClear()} />\r\n                                        </div>\r\n                                    </form>\r\n                                    <br></br>\r\n                                    <div class=\"x_scroll\">\r\n                                        <table class=\"table\">\r\n                                            <thead>\r\n                                                <tr>\r\n                                                    <th class=\"tableTh\">name</th>\r\n                                                    <th class=\"tableTh\">Category</th>\r\n                                                    <th class=\"tableTh\">Quantity</th>\r\n                                                    <th class=\"tableTh\">Price</th>\r\n                                                    <th class=\"tableTh\">Discount</th>\r\n                                                    <th class=\"tableTh\">Image</th>\r\n                                                    <th class=\"tableTh\">Edit</th>\r\n                                                    <th class=\"tableTh\">Remove</th>\r\n                                                </tr>\r\n                                            </thead>\r\n                                            <tbody>\r\n                                            {\r\n\r\n                                                products.map((product) =>\r\n\r\n                                                <tr>\r\n                                                    <td class=\"tableTh\">{ product.name }</td>\r\n                                                    <td class=\"tableTh\">{ product.category }</td>\r\n                                                    <td class=\"tableTh\">{ product.quantity }</td>\r\n                                                    <td class=\"tableTh\">{ product.price }</td>\r\n                                                    <td class=\"tableTh\">{ product.discount }</td>\r\n                                                    <td class=\"tableTh\"><img width=\"100px\" alt=\"\" src={ \"http://localhost:3500/\"+product.image } class=\"img-thumbnail\"/></td>\r\n                                                    <td class=\"tableTh\"><button type='button' onClick={() => this.onChange(product._id)} class='btn btn-success'>Edit</button></td>\r\n                                                    <td class=\"tableTh\"><button type='button' onClick={() => this.onDelete(product._id)} class='btn btn-danger'>Delete</button></td>\r\n                                                </tr>\r\n                                            )}\r\n                                            </tbody>\r\n                                        </table>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport default Product;\r\n"]},"metadata":{},"sourceType":"module"}