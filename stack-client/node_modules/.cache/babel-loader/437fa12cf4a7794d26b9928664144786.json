{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\keuda\\\\Desktop\\\\react\\\\new\\\\afAssignment\\\\stack-client\\\\src\\\\components\\\\all_users.js\";\nimport React from 'react';\nimport '../App.css';\nimport userApi from \"../actions/userApi.js\";\nimport swal from 'sweetalert';\n\nclass Users extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      users: []\n    };\n  }\n\n  componentDidMount() {\n    const url = \"http://localhost:3500/user\";\n    fetch(url).then(response => response.json()).then(json => this.setState({\n      users: json.filter(user => user.email !== localStorage.getItem('email'))\n    }));\n  }\n\n  onUserDelete(id) {\n    swal({\n      title: \"Are you sure?\",\n      text: \"Delete this record!\",\n      icon: \"warning\",\n      buttons: true,\n      dangerMode: true\n    }).then(willDelete => {\n      if (willDelete) {\n        userApi.user().delete(id).then(res => {\n          swal(\"Delete Successful!\", {\n            icon: \"success\"\n          });\n          this.componentDidMount();\n        });\n      }\n    });\n  }\n\n  onChangeUser(id, type) {\n    swal({\n      title: \"Are you sure?\",\n      text: \"change the privilege?\",\n      icon: \"warning\",\n      buttons: true,\n      dangerMode: true\n    }).then(willDelete => {\n      if (willDelete) {\n        var data = {\n          type: type\n        };\n        userApi.user().update(id, data).then(res => {\n          swal(\"Change Successful!\", {\n            icon: \"success\"\n          });\n          this.componentDidMount();\n        });\n      }\n    });\n  }\n\n  onChange_S_M(id, type, email) {\n    swal({\n      title: \"Are you sure?\",\n      text: \"change the privilege?\",\n      icon: \"warning\",\n      buttons: true,\n      dangerMode: true\n    }).then(willDelete => {\n      if (willDelete) {\n        var data = {\n          type: type\n        };\n        userApi.user().update(id, data).then(res => {\n          swal(\"Change Successful!\", {\n            icon: \"success\"\n          });\n          this.componentDidMount();\n          var data = {\n            email: email,\n            msg: \"Change To SM\"\n          };\n          userApi.user().email(data);\n        });\n      }\n    });\n  }\n\n  editButton(type, id, email) {\n    if (type === \"user\") {\n      return [/*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        onClick: () => this.onChangeUser(id, \"admin\"),\n        class: \"btn btn-outline-warning\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 22\n        }\n      }, \"Admin\"), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        onClick: () => this.onChange_S_M(id, \"sm\", email),\n        class: \"btn btn-outline-success\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }\n      }, \"S.M\")];\n    } else if (type === \"admin\") {\n      return [/*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        onClick: () => this.onChangeUser(id, \"user\"),\n        class: \"btn btn-outline-warning\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }\n      }, \"User\"), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        onClick: () => this.onChange_S_M(id, \"sm\", email),\n        class: \"btn btn-outline-success\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }\n      }, \"S.M\")];\n    } else if (type === \"sm\") {\n      return [/*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        onClick: () => this.onChangeUser(id, \"admin\"),\n        class: \"btn btn-outline-warning\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 21\n        }\n      }, \"Admin\"), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        onClick: () => this.onChangeUser(id, \"user\"),\n        class: \"btn btn-outline-success\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }\n      }, \"User\")];\n    }\n  }\n\n  render() {\n    if (localStorage.getItem('email')) {\n      const {\n        users\n      } = this.state;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        class: \"container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 22\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 25\n        }\n      }, \"ALL Users\"), /*#__PURE__*/React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"table\", {\n        class: \"table\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        class: \"tableTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 37\n        }\n      }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n        class: \"tableTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 37\n        }\n      }, \"Address\"), /*#__PURE__*/React.createElement(\"th\", {\n        class: \"tableTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 37\n        }\n      }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n        class: \"tableTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 37\n        }\n      }, \"Phone\"), /*#__PURE__*/React.createElement(\"th\", {\n        class: \"tableTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 37\n        }\n      }, \"User Type\"), /*#__PURE__*/React.createElement(\"th\", {\n        class: \"tableTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 37\n        }\n      }, \"Change\"), /*#__PURE__*/React.createElement(\"th\", {\n        class: \"tableTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 37\n        }\n      }, \"Remove User\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 29\n        }\n      }, users.map(user => /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        class: \"tableTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 37\n        }\n      }, user.name), /*#__PURE__*/React.createElement(\"td\", {\n        class: \"tableTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 37\n        }\n      }, user.address), /*#__PURE__*/React.createElement(\"td\", {\n        class: \"tableTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 37\n        }\n      }, user.email), /*#__PURE__*/React.createElement(\"td\", {\n        class: \"tableTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 37\n        }\n      }, user.phone), /*#__PURE__*/React.createElement(\"td\", {\n        class: \"tableTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 37\n        }\n      }, user.type), /*#__PURE__*/React.createElement(\"td\", {\n        class: \"tableTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 37\n        }\n      }, this.editButton(user.type, user._id, user.email)), /*#__PURE__*/React.createElement(\"td\", {\n        class: \"tableTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        onClick: () => this.onUserDelete(user._id),\n        class: \"btn btn-outline-danger\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 57\n        }\n      }, \"Delete\"))))))));\n    }\n  }\n\n}\n\nexport default Users;","map":{"version":3,"sources":["C:/Users/keuda/Desktop/react/new/afAssignment/stack-client/src/components/all_users.js"],"names":["React","userApi","swal","Users","Component","constructor","props","state","users","componentDidMount","url","fetch","then","response","json","setState","filter","user","email","localStorage","getItem","onUserDelete","id","title","text","icon","buttons","dangerMode","willDelete","delete","res","onChangeUser","type","data","update","onChange_S_M","msg","editButton","render","map","name","address","phone","_id"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport '../App.css';\r\nimport userApi from \"../actions/userApi.js\";\r\nimport swal from 'sweetalert';\r\n\r\nclass Users extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            users: []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const url = \"http://localhost:3500/user\";\r\n        fetch(url).then(response => response.json())\r\n        .then(json => this.setState({users: json.filter(user => user.email!==localStorage.getItem('email'))}))\r\n    }\r\n\r\n    onUserDelete(id){\r\n\r\n        swal({\r\n            title: \"Are you sure?\",\r\n            text: \"Delete this record!\",\r\n            icon: \"warning\",\r\n            buttons: true,\r\n            dangerMode: true,\r\n          })\r\n          .then((willDelete) => {\r\n            if (willDelete) {\r\n                userApi.user().delete(id)\r\n                .then(res =>{\r\n                    swal(\"Delete Successful!\", {\r\n                        icon: \"success\",\r\n                    })\r\n                    this.componentDidMount()\r\n                });\r\n            }\r\n          })\r\n        \r\n    }\r\n\r\n    onChangeUser(id,type){\r\n        \r\n        swal({\r\n            title: \"Are you sure?\",\r\n            text: \"change the privilege?\",\r\n            icon: \"warning\",\r\n            buttons: true,\r\n            dangerMode: true,\r\n          })\r\n          .then((willDelete) => {\r\n            if (willDelete) {\r\n                var data = { type:type}\r\n                userApi.user().update(id,data)\r\n                .then(res =>{\r\n                    swal(\"Change Successful!\", {\r\n                        icon: \"success\",\r\n                    })\r\n                    this.componentDidMount()\r\n                });\r\n            }\r\n          })\r\n\r\n    }\r\n\r\n    onChange_S_M(id,type,email){\r\n\r\n        swal({\r\n            title: \"Are you sure?\",\r\n            text: \"change the privilege?\",\r\n            icon: \"warning\",\r\n            buttons: true,\r\n            dangerMode: true,\r\n          })\r\n          .then((willDelete) => {\r\n            if (willDelete) {\r\n                var data = { type:type}\r\n                userApi.user().update(id,data)\r\n                .then(res =>{\r\n                    swal(\"Change Successful!\", {\r\n                        icon: \"success\",\r\n                    })\r\n                    this.componentDidMount()\r\n                    var data = { email:email , msg:\"Change To SM\" }\r\n                    userApi.user().email(data)\r\n                });\r\n            }\r\n          })\r\n\r\n    }\r\n\r\n    editButton(type,id,email){\r\n        if(type===\"user\"){\r\n            return  [<button type='button' onClick={() => this.onChangeUser(id,\"admin\")} class=\"btn btn-outline-warning\">Admin</button>,\r\n                    <br></br>,\r\n            <button type='button' onClick={() => this.onChange_S_M(id,\"sm\",email)} class=\"btn btn-outline-success\">S.M</button>];\r\n        }else if(type===\"admin\"){\r\n            return [<button type='button' onClick={() => this.onChangeUser(id,\"user\")} class=\"btn btn-outline-warning\">User</button>,\r\n                    <br></br>,\r\n            <button type='button' onClick={() => this.onChange_S_M(id,\"sm\",email)} class=\"btn btn-outline-success\">S.M</button>];\r\n        }else if(type===\"sm\"){\r\n            return [<button type='button' onClick={() => this.onChangeUser(id,\"admin\")} class=\"btn btn-outline-warning\">Admin</button>,\r\n                    <br></br>,\r\n            <button type='button' onClick={() => this.onChangeUser(id,\"user\")} class=\"btn btn-outline-success\">User</button>];\r\n        }\r\n    }\r\n\r\n    render (){\r\n        if(localStorage.getItem('email')){\r\n            const {users} = this.state;\r\n            return (\r\n                <div class=\"container\">\r\n                <br/><br/>\r\n                    <div class=\"justify-content-center\">\r\n                        <h1>ALL Users</h1>\r\n                        <hr/>\r\n                        <table class=\"table\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th class=\"tableTh\">Name</th>\r\n                                    <th class=\"tableTh\">Address</th>\r\n                                    <th class=\"tableTh\">Email</th>\r\n                                    <th class=\"tableTh\">Phone</th>\r\n                                    <th class=\"tableTh\">User Type</th>\r\n                                    <th class=\"tableTh\">Change</th>\r\n                                    <th class=\"tableTh\">Remove User</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                            {\r\n\r\n                                users.map((user) =>\r\n\r\n                                <tr>\r\n                                    <td class=\"tableTh\">{ user.name }</td>\r\n                                    <td class=\"tableTh\">{ user.address }</td>\r\n                                    <td class=\"tableTh\">{ user.email }</td>\r\n                                    <td class=\"tableTh\">{ user.phone }</td>\r\n                                    <td class=\"tableTh\">{ user.type }</td>\r\n                                    <td class=\"tableTh\">{this.editButton(user.type,user._id,user.email)}</td>\r\n                                    <td class=\"tableTh\"><button type='button' onClick={() => this.onUserDelete(user._id)} class=\"btn btn-outline-danger\">Delete</button></td>\r\n                                </tr>\r\n                            )}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport default Users;\r\n"]},"metadata":{},"sourceType":"module"}