{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\keuda\\\\Desktop\\\\react\\\\new\\\\afAssignment\\\\stack-client\\\\src\\\\components\\\\view_product.js\";\nimport React from 'react';\nimport '../App.css';\nimport comApi from \"../actions/commentApi.js\";\nimport cartApi from \"../actions/cartApi.js\";\nimport ButterToast, { Cinnamon } from \"butter-toast\";\nimport { AssignmentTurnedIn, ExtensionSharp } from \"@material-ui/icons\";\nconst initialState = {\n  products: [],\n  messages: [],\n  comment: \"\",\n  confirmButton: \"Send\",\n  commentError: \"\",\n  commentId: \"\",\n  wishlist: [],\n  wishError: \"\",\n  wish_list: \"\",\n  proId: \"\",\n  proName: \"\",\n  proPrice: \"\",\n  proDiscount: \"\",\n  proQuantity: \"\",\n  proImage: \"\",\n  quantity: \"\",\n  type: \"\",\n  total: \"\",\n  quantityError: \"\"\n};\n\nclass oneProduct extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      const isCheckbox = e.target.type === \"checkbox\";\n      this.setState({\n        [e.target.name]: isCheckbox ? e.target.checked : e.target.value\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const isValid = this.validate();\n\n      if (isValid) {\n        if (localStorage.getItem('userEmail')) {\n          const data = {\n            message: this.state.comment,\n            name: localStorage.getItem('userName'),\n            email: localStorage.getItem('userEmail'),\n            product: localStorage.getItem('itemId')\n          };\n\n          if (this.state.commentId) {\n            comApi.comment().update(this.state.commentId, {\n              message: this.state.comment\n            }).then(res => {\n              ButterToast.raise({\n                content: /*#__PURE__*/React.createElement(Cinnamon.Crisp, {\n                  title: \"Online Store\",\n                  content: \"Change Successful!\",\n                  scheme: Cinnamon.Crisp.SCHEME_PURPLE,\n                  icon: /*#__PURE__*/React.createElement(AssignmentTurnedIn, {\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 168,\n                      columnNumber: 39\n                    }\n                  }),\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 165,\n                    columnNumber: 38\n                  }\n                })\n              });\n              this.setState(initialState);\n              this.componentDidMount();\n            });\n          } else {\n            api.message().create(data).then(res => {\n              ButterToast.raise({\n                content: /*#__PURE__*/React.createElement(Cinnamon.Crisp, {\n                  title: \"Online Store\",\n                  content: \"comment add successfully\",\n                  scheme: Cinnamon.Crisp.SCHEME_PURPLE,\n                  icon: /*#__PURE__*/React.createElement(AssignmentTurnedIn, {\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 181,\n                      columnNumber: 39\n                    }\n                  }),\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 178,\n                    columnNumber: 38\n                  }\n                })\n              });\n              this.setState(initialState);\n              this.componentDidMount();\n            });\n          }\n        } else {\n          ButterToast.raise({\n            content: /*#__PURE__*/React.createElement(Cinnamon.Crisp, {\n              title: \"Online Store\",\n              content: \"Please Login to the system!\",\n              scheme: Cinnamon.Crisp.SCHEME_PURPLE,\n              icon: /*#__PURE__*/React.createElement(ExtensionSharp, {\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 31\n                }\n              }),\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 30\n              }\n            })\n          });\n        }\n      }\n    };\n\n    this.validate = () => {\n      let commentError = \"\";\n\n      if (!this.state.comment) {\n        commentError = \"message Cannot Be Blank\";\n      }\n\n      if (commentError) {\n        this.setState({\n          commentError\n        });\n        return false;\n      } else {\n        this.setState({\n          commentError\n        });\n      }\n\n      return true;\n    };\n\n    this.state = initialState;\n  }\n\n  onClear() {\n    this.setState(initialState);\n    this.componentDidMount();\n  }\n\n  onChange(id, msg) {\n    this.setState({\n      confirmButton: \"EDIT\",\n      commentId: id,\n      comment: msg\n    });\n  }\n\n  componentDidMount() {\n    const purl = \"http://localhost:4000/product\";\n    fetch(purl).then(response => response.json()).then(json => {\n      const pro = json.filter(pro => pro._id === localStorage.getItem('itemId'));\n      this.setState({\n        products: pro,\n        proId: pro[0]['_id'],\n        proName: pro[0]['name'],\n        proPrice: pro[0]['price'],\n        proDiscount: pro[0]['discount'],\n        proQuantity: pro[0]['quantity'],\n        proImage: pro[0]['image']\n      });\n    });\n    const url = \"http://localhost:4000/message\";\n    fetch(url).then(response => response.json()).then(json => {\n      const msg = json.filter(msg => msg.product === localStorage.getItem('itemId'));\n      this.setState({\n        messages: msg\n      });\n    });\n    const wurl = \"http://localhost:4000/wishlist\";\n    fetch(wurl).then(response => response.json()).then(json => {\n      const wish = json.filter(wish => wish.email === localStorage.getItem('userEmail'));\n      this.setState({\n        wishlist: wish\n      });\n    });\n  }\n\n  onCart() {\n    if (this.state.quantity) {\n      if (this.state.quantity <= this.state.proQuantity) {\n        const total = this.state.quantity * this.state.proPrice - this.state.proDiscount * this.state.quantity;\n        this.setState({\n          type: 'cart',\n          total: total,\n          wish_list: '',\n          email: localStorage.getItem('userEmail')\n        }, () => {\n          cartApi.cart().create(this.state).then(res => {\n            ButterToast.raise({\n              content: /*#__PURE__*/React.createElement(Cinnamon.Crisp, {\n                title: \"Online Store\",\n                content: \"Product Add Successful!\",\n                scheme: Cinnamon.Crisp.SCHEME_PURPLE,\n                icon: /*#__PURE__*/React.createElement(AssignmentTurnedIn, {\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 84,\n                    columnNumber: 39\n                  }\n                }),\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 38\n                }\n              })\n            });\n            this.componentDidMount();\n            this.setState(initialState);\n          });\n        });\n      } else {\n        this.setState({\n          quantityError: \"Quantity Error!\"\n        });\n      }\n    } else {\n      this.setState({\n        quantityError: \"Quantity Required!\"\n      });\n    }\n  }\n\n  onWish() {\n    if (this.state.wish_list) {\n      if (this.state.quantity) {\n        if (this.state.quantity <= this.state.proQuantity) {\n          const total = this.state.quantity * this.state.proPrice - this.state.proDiscount * this.state.quantity;\n          this.setState({\n            type: 'wishlist',\n            total: total,\n            email: localStorage.getItem('userEmail')\n          }, () => {\n            cartApi.cart().create(this.state).then(res => {\n              ButterToast.raise({\n                content: /*#__PURE__*/React.createElement(Cinnamon.Crisp, {\n                  title: \"Online Store\",\n                  content: \"Wishlist Product Add Successful!\",\n                  scheme: Cinnamon.Crisp.SCHEME_PURPLE,\n                  icon: /*#__PURE__*/React.createElement(AssignmentTurnedIn, {\n                    __self: this,\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 111,\n                      columnNumber: 43\n                    }\n                  }),\n                  __self: this,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 108,\n                    columnNumber: 42\n                  }\n                })\n              });\n              this.componentDidMount();\n              this.setState(initialState);\n            });\n          });\n        } else {\n          this.setState({\n            quantityError: \"Quantity Error!\"\n          });\n        }\n      } else {\n        this.setState({\n          quantityError: \"Quantity Required!\"\n        });\n      }\n\n      this.setState({\n        wishError: \"\"\n      });\n    } else {\n      this.setState({\n        wishError: \"Plaese select\"\n      });\n    }\n  }\n\n  editButton(id, msg, email) {\n    if (localStorage.getItem('userEmail')) {\n      if (email === localStorage.getItem('userEmail')) {\n        return [/*#__PURE__*/React.createElement(\"button\", {\n          type: \"button\",\n          onClick: () => this.onChange(id, msg),\n          class: \"btn btn-success\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 26\n          }\n        }, \"EDIT\"), /*#__PURE__*/React.createElement(\"button\", {\n          type: \"button\",\n          onClick: () => this.onDelete(id),\n          class: \"btn btn-danger\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 25\n          }\n        }, \"Delete\")];\n      }\n    }\n  }\n\n  onDelete(id) {\n    if (window.confirm(\"Are you sure to delete comment?\")) {\n      comApi.comment().delete(id).then(res => {\n        ButterToast.raise({\n          content: /*#__PURE__*/React.createElement(Cinnamon.Crisp, {\n            title: \"Online Store\",\n            content: \"Delete Successful!\",\n            scheme: Cinnamon.Crisp.SCHEME_PURPLE,\n            icon: /*#__PURE__*/React.createElement(AssignmentTurnedIn, {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 31\n              }\n            }),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 30\n            }\n          })\n        });\n        this.componentDidMount();\n      });\n    }\n  }\n\n  render() {\n    const {\n      products,\n      messages,\n      wishlist\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      class: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 22\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"row justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      class: \"table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 37\n      }\n    }, products.map(product => /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      class: \"tableTh\",\n      width: \"35%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      width: \"200px\",\n      alt: \"\",\n      src: \"http://localhost:4000/\" + product.image,\n      class: \"img-thumbnail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 77\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      class: \"tableTh\",\n      width: \"65%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 77\n      }\n    }, product.name), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 103\n      }\n    }), /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 108\n      }\n    }, \"category :\", product.name, \" / Price: Rs. \", product.price), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 45\n      }\n    }), /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 50\n      }\n    }, \"Discount : Rs. \", product.discount), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 45\n      }\n    }), /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 50\n      }\n    }, \"Available Quantity : \", product.quantity), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 45\n      }\n    }), \"Quantity : \", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"quantity\",\n      value: this.state.quantity,\n      onChange: this.handleChange,\n      style: {\n        width: \"50px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 61\n      }\n    }), \" / \", product.quantity, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        color: \"red\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 45\n      }\n    }, this.state.quantityError), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 106\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 45\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: () => this.onCart(),\n      class: \"btn btn-success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 50\n      }\n    }, \"Add to Cart\")))))), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      class: \"col-md-4 col-form-label text-md-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 37\n      }\n    }, \"Your Wishlist\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      class: \"form-control\",\n      name: \"wish_list\",\n      value: this.state.wish_list,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 45\n      }\n    }, \"~select~\"), wishlist.map(wishlist => /*#__PURE__*/React.createElement(\"option\", {\n      value: wishlist._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 49\n      }\n    }, \" \", wishlist.name, \" \"))), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        color: \"red\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 41\n      }\n    }, this.state.wishError))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-md-4 offset-md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"button\",\n      class: \"btn btn-primary\",\n      value: \"Add to List\",\n      onClick: () => this.onWish(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"form\", {\n      autoComplete: \"off\",\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      class: \"col-md-4 col-form-label text-md-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 41\n      }\n    }, \"Your Comment\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      class: \"form-control\",\n      name: \"comment\",\n      value: this.state.comment,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 45\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        color: \"red\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 45\n      }\n    }, this.state.commentError))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-md-4 offset-md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      class: \"btn btn-primary\",\n      value: this.state.confirmButton,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"button\",\n      class: \"btn btn-danger\",\n      value: \"Clear\",\n      onClick: () => this.onClear(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 41\n      }\n    }))), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"table\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 33\n      }\n    }, messages.map(msg => /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      width: \"150px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      width: \"100px\",\n      alt: \"\",\n      src: \"user.png\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 63\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 49\n      }\n    }, msg.name), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 45\n      }\n    }), /*#__PURE__*/React.createElement(\"h7\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 50\n      }\n    }, msg.message)), /*#__PURE__*/React.createElement(\"td\", {\n      width: \"200px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 45\n      }\n    }, this.editButton(msg._id, msg.message, msg.email))))))))));\n  }\n\n}\n\nexport default oneProduct;","map":{"version":3,"sources":["C:/Users/keuda/Desktop/react/new/afAssignment/stack-client/src/components/view_product.js"],"names":["React","comApi","cartApi","ButterToast","Cinnamon","AssignmentTurnedIn","ExtensionSharp","initialState","products","messages","comment","confirmButton","commentError","commentId","wishlist","wishError","wish_list","proId","proName","proPrice","proDiscount","proQuantity","proImage","quantity","type","total","quantityError","oneProduct","Component","constructor","props","handleChange","e","isCheckbox","target","setState","name","checked","value","handleSubmit","preventDefault","isValid","validate","localStorage","getItem","data","message","state","email","product","update","then","res","raise","content","Crisp","SCHEME_PURPLE","componentDidMount","api","create","onClear","onChange","id","msg","purl","fetch","response","json","pro","filter","_id","url","wurl","wish","onCart","cart","onWish","editButton","onDelete","window","confirm","delete","render","map","image","price","discount","width","color"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport '../App.css';\r\nimport comApi from \"../actions/commentApi.js\";\r\nimport cartApi from \"../actions/cartApi.js\";\r\nimport ButterToast, { Cinnamon } from \"butter-toast\";\r\nimport { AssignmentTurnedIn , ExtensionSharp } from \"@material-ui/icons\";\r\n\r\nconst initialState = {\r\n    products: [],\r\n    messages: [],\r\n    comment: \"\",\r\n    confirmButton: \"Send\",\r\n    commentError: \"\",\r\n    commentId: \"\",\r\n    wishlist:[],\r\n    wishError:\"\",\r\n    wish_list:\"\",\r\n    proId: \"\",\r\n    proName: \"\",\r\n    proPrice: \"\",\r\n    proDiscount: \"\",\r\n    proQuantity : \"\",\r\n    proImage : \"\",\r\n    quantity : \"\",\r\n    type:\"\",\r\n    total:\"\",\r\n    quantityError:\"\"\r\n}\r\n\r\nclass oneProduct extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = initialState;\r\n    }\r\n\r\n    handleChange = e => {\r\n        const isCheckbox = e.target.type === \"checkbox\";\r\n        this.setState({\r\n            [e.target.name]: isCheckbox\r\n                ? e.target.checked\r\n                : e.target.value\r\n        });\r\n    }\r\n\r\n    onClear(){\r\n        this.setState(initialState);\r\n        this.componentDidMount();\r\n    }\r\n\r\n    onChange(id,msg){\r\n        this.setState({confirmButton:\"EDIT\",commentId:id,comment:msg});\r\n    }\r\n\r\n    componentDidMount() {\r\n        const purl = \"http://localhost:4000/product\";\r\n        fetch(purl).then(response => response.json())\r\n        .then(json => {const pro = json.filter(pro => pro._id===localStorage.getItem('itemId'))\r\n            this.setState({products: pro,proId:pro[0]['_id'],proName:pro[0]['name'],proPrice:pro[0]['price'],proDiscount:pro[0]['discount'],proQuantity:pro[0]['quantity'],proImage:pro[0]['image']})\r\n        })\r\n        const url = \"http://localhost:4000/message\";\r\n        fetch(url).then(response => response.json())\r\n        .then(json => {const msg = json.filter(msg => msg.product===localStorage.getItem('itemId'))\r\n            this.setState({messages: msg})\r\n        })\r\n        const wurl = \"http://localhost:4000/wishlist\";\r\n        fetch(wurl).then(response => response.json())\r\n        .then(json => {const wish = json.filter(wish => wish.email===localStorage.getItem('userEmail'))\r\n            this.setState({wishlist: wish})\r\n        })\r\n    }\r\n\r\n    onCart(){\r\n        if(this.state.quantity){\r\n            if(this.state.quantity<=this.state.proQuantity){\r\n                const total=this.state.quantity*this.state.proPrice-(this.state.proDiscount*this.state.quantity)\r\n                this.setState({ type:'cart' ,total:total , wish_list: '', email: localStorage.getItem('userEmail') }, () => { \r\n                    cartApi.cart().create(this.state)\r\n                    .then(res =>{\r\n                        ButterToast.raise({\r\n                            content: <Cinnamon.Crisp title=\"Online Store\"\r\n                                content=\"Product Add Successful!\"\r\n                                scheme={Cinnamon.Crisp.SCHEME_PURPLE}\r\n                                icon={<AssignmentTurnedIn />}\r\n                            />\r\n                        })\r\n                        this.componentDidMount()\r\n                        this.setState(initialState)\r\n                    })\r\n                })\r\n            }else{\r\n                this.setState({quantityError:\"Quantity Error!\"})\r\n            }\r\n        }else{\r\n            this.setState({quantityError:\"Quantity Required!\"})\r\n        }\r\n    }\r\n\r\n    onWish(){\r\n        if(this.state.wish_list){\r\n            if(this.state.quantity){\r\n                if(this.state.quantity<=this.state.proQuantity){\r\n                    const total=this.state.quantity*this.state.proPrice-(this.state.proDiscount*this.state.quantity)\r\n                    this.setState({ type:'wishlist' ,total:total , email: localStorage.getItem('userEmail') }, () => { \r\n                        cartApi.cart().create(this.state)\r\n                        .then(res =>{\r\n                            ButterToast.raise({\r\n                                content: <Cinnamon.Crisp title=\"Online Store\"\r\n                                    content=\"Wishlist Product Add Successful!\"\r\n                                    scheme={Cinnamon.Crisp.SCHEME_PURPLE}\r\n                                    icon={<AssignmentTurnedIn />}\r\n                                />\r\n                            })\r\n                            this.componentDidMount()\r\n                            this.setState(initialState)\r\n                        })\r\n                    })\r\n                }else{\r\n                    this.setState({quantityError:\"Quantity Error!\"})\r\n                }\r\n            }else{\r\n                this.setState({quantityError:\"Quantity Required!\"})\r\n            }\r\n            this.setState({wishError:\"\"})\r\n        }else{\r\n            this.setState({wishError:\"Plaese select\"})\r\n        }\r\n    }\r\n\r\n    editButton(id,msg,email){\r\n        if(localStorage.getItem('userEmail')){\r\n            if(email===localStorage.getItem('userEmail')){\r\n                return  [<button type='button' onClick={() => this.onChange(id,msg)} class='btn btn-success'>EDIT</button>,\r\n                        <button type='button' onClick={() => this.onDelete(id)} class='btn btn-danger'>Delete</button>];\r\n            }\r\n        }\r\n    }\r\n\r\n    onDelete(id){\r\n        if (window.confirm(\"Are you sure to delete comment?\")) {\r\n            comApi.comment().delete(id)\r\n            .then(res =>{\r\n                ButterToast.raise({\r\n                    content: <Cinnamon.Crisp title=\"Online Store\"\r\n                        content=\"Delete Successful!\"\r\n                        scheme={Cinnamon.Crisp.SCHEME_PURPLE}\r\n                        icon={<AssignmentTurnedIn />}\r\n                    />\r\n                })\r\n                this.componentDidMount()\r\n            });\r\n        }\r\n    }\r\n\r\n    handleSubmit = e => {\r\n        e.preventDefault();\r\n        const isValid = this.validate();\r\n        if(isValid){\r\n            if(localStorage.getItem('userEmail')){\r\n                const data ={ message:this.state.comment,name:localStorage.getItem('userName'),email:localStorage.getItem('userEmail'),product:localStorage.getItem('itemId') }\r\n                if(this.state.commentId){\r\n                    comApi.comment().update(this.state.commentId,{message:this.state.comment})\r\n                    .then(res =>{\r\n                        ButterToast.raise({\r\n                            content: <Cinnamon.Crisp title=\"Online Store\"\r\n                                content=\"Change Successful!\"\r\n                                scheme={Cinnamon.Crisp.SCHEME_PURPLE}\r\n                                icon={<AssignmentTurnedIn />}\r\n                            />\r\n                        })\r\n                        this.setState(initialState)\r\n                        this.componentDidMount()\r\n                    })\r\n                }else{\r\n                    api.message().create(data)\r\n                    .then(res => {\r\n                        ButterToast.raise({\r\n                            content: <Cinnamon.Crisp title=\"Online Store\"\r\n                                content=\"comment add successfully\"\r\n                                scheme={Cinnamon.Crisp.SCHEME_PURPLE}\r\n                                icon={<AssignmentTurnedIn />}\r\n                            />\r\n                        })\r\n                        this.setState(initialState)\r\n                        this.componentDidMount()\r\n                    } );\r\n                }\r\n                \r\n            }else{\r\n                ButterToast.raise({\r\n                    content: <Cinnamon.Crisp title=\"Online Store\"\r\n                        content=\"Please Login to the system!\"\r\n                        scheme={Cinnamon.Crisp.SCHEME_PURPLE}\r\n                        icon={<ExtensionSharp />}\r\n                    />\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    validate = () => {\r\n        let commentError = \"\";\r\n\r\n        if(!this.state.comment){\r\n            commentError=\"message Cannot Be Blank\"\r\n        }\r\n\r\n        if(commentError){\r\n            this.setState({ commentError });\r\n            return false;\r\n        }else{\r\n            this.setState({ commentError });\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    render (){\r\n        const { products , messages , wishlist } = this.state;\r\n        return (\r\n            <div class=\"container\">\r\n            <br></br><br></br>\r\n                <div class=\"row justify-content-center\">\r\n                    <div class=\"col-md-12\">\r\n                        <div class=\"card\">\r\n                            <div class=\"card-body\">\r\n                                <table class=\"table\">\r\n                                    <tbody>\r\n                                    {\r\n                                        products.map((product) =>\r\n\r\n                                        <tr>\r\n                                            <td class=\"tableTh\" width=\"35%\"><img width=\"200px\" alt=\"\" src={ \"http://localhost:4000/\"+product.image } class=\"img-thumbnail\" /></td>\r\n                                            <td class=\"tableTh\" width=\"65%\"><h3>{ product.name  }</h3><br/><h5>category :{ product.name  } / Price: Rs. { product.price }</h5>\r\n                                            <br/><h5>Discount : Rs. { product.discount }</h5>\r\n                                            <br/><h5>Available Quantity : { product.quantity }</h5>\r\n                                            <br/>Quantity : <input type='text' name=\"quantity\" value={this.state.quantity} onChange={this.handleChange} style={{width: \"50px\"}} /> / { product.quantity }\r\n                                            <div style={{color : \"red\"}}>{this.state.quantityError}</div><br/>\r\n                                            <br/><button type='button' onClick={() => this.onCart()} class='btn btn-success'>Add to Cart</button>\r\n                                            </td>\r\n                                        </tr>\r\n                                    )}\r\n                                    </tbody>\r\n                                </table>\r\n                                <hr/>\r\n                                <div class=\"form-group row\">\r\n                                    <label class=\"col-md-4 col-form-label text-md-right\">Your Wishlist</label>\r\n                                    <div class=\"col-md-6\">\r\n                                        <select class=\"form-control\" name=\"wish_list\" value={this.state.wish_list} onChange={this.handleChange}>\r\n                                            <option value=\"\">~select~</option>\r\n                                            {\r\n                                                wishlist.map((wishlist) =>\r\n                                                <option value={ wishlist._id }> { wishlist.name } </option>\r\n                                            )}\r\n                                        </select>\r\n                                        <div style={{color : \"red\"}}>{this.state.wishError}</div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class=\"col-md-4 offset-md-4\">\r\n                                    <input type=\"button\" class=\"btn btn-primary\" value=\"Add to List\" onClick={() => this.onWish()}/>\r\n                                </div> \r\n                                <hr/>\r\n                                <form autoComplete=\"off\" onSubmit={this.handleSubmit}>\r\n                                    <div class=\"form-group row\">\r\n                                        <label class=\"col-md-4 col-form-label text-md-right\">Your Comment</label>\r\n                                        <div class=\"col-md-6\">\r\n                                            <input type=\"text\" class=\"form-control\" name=\"comment\" value={this.state.comment} onChange={this.handleChange} />\r\n                                            <div style={{color : \"red\"}}>{this.state.commentError}</div>\r\n                                        </div>\r\n                                    </div>\r\n                                            \r\n                                    <div class=\"col-md-4 offset-md-4\">\r\n                                        <input type=\"submit\" class=\"btn btn-primary\" value={this.state.confirmButton} />\r\n                                        <input type=\"button\" class=\"btn btn-danger\" value=\"Clear\" onClick={() => this.onClear()} />\r\n                                    </div>\r\n                                </form>\r\n                                <hr/>\r\n                                <table>\r\n                                    {\r\n                                        messages.map((msg) =>\r\n\r\n                                        <tr>\r\n                                            <td width=\"150px\"><img width=\"100px\" alt=\"\" src=\"user.png\"/></td>\r\n                                            <td><h5>{ msg.name }</h5>\r\n                                            <br/><h7>{ msg.message }</h7></td>\r\n                                            <td width=\"200px\">{this.editButton(msg._id,msg.message,msg.email)}</td>\r\n                                        </tr>\r\n                                    )}\r\n                                </table>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default oneProduct;\r\n"]},"metadata":{},"sourceType":"module"}