{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\keuda\\\\Desktop\\\\react\\\\react\\\\project\\\\stack-client\\\\src\\\\components\\\\usersList.js\";\nimport React from 'react';\nimport '../App.css';\nimport api from \"../actions/api.js\";\nimport ButterToast, { Cinnamon } from \"butter-toast\";\nimport { AssignmentTurnedIn } from \"@material-ui/icons\";\n\nclass Users extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      users: []\n    };\n  }\n\n  componentDidMount() {\n    const url = \"http://localhost:4000/register\";\n    fetch(url).then(response => response.json()).then(json => this.setState({\n      users: json.filter(user => user.email !== localStorage.getItem('userEmail'))\n    }));\n  }\n\n  onDelete(id) {\n    if (window.confirm(\"Are you sure to delete this record?\")) {\n      api.registerUser().delete(id).then(res => {\n        ButterToast.raise({\n          content: /*#__PURE__*/React.createElement(Cinnamon.Crisp, {\n            title: \"Online Store\",\n            content: \"Delete Successful!\",\n            scheme: Cinnamon.Crisp.SCHEME_PURPLE,\n            icon: /*#__PURE__*/React.createElement(AssignmentTurnedIn, {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 30,\n                columnNumber: 31\n              }\n            }),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 27,\n              columnNumber: 30\n            }\n          })\n        });\n        this.componentDidMount();\n      });\n    }\n  }\n\n  onUserChange(id, type) {\n    if (window.confirm(\"Are you sure to change the privilege?\")) {\n      var data = {\n        type: type\n      };\n      api.registerUser().update(id, data).then(res => {\n        ButterToast.raise({\n          content: /*#__PURE__*/React.createElement(Cinnamon.Crisp, {\n            title: \"Online Store\",\n            content: \"Change Successful!\",\n            scheme: Cinnamon.Crisp.SCHEME_PURPLE,\n            icon: /*#__PURE__*/React.createElement(AssignmentTurnedIn, {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 47,\n                columnNumber: 31\n              }\n            }),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 30\n            }\n          })\n        });\n        this.componentDidMount();\n      });\n    }\n  }\n\n  onSmChange(id, type, email) {\n    this.onUserChange(id, type);\n    var data = {\n      email: email\n    };\n    api.registerUser().email(data);\n  }\n\n  editButton(type, id, email) {\n    if (type === \"user\") {\n      return [/*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        onClick: () => this.onUserChange(id, \"admin\"),\n        class: \"btn btn-warning\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 22\n        }\n      }, \"Admin\"), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        onClick: () => this.onSmChange(id, \"sm\", email),\n        class: \"btn btn-success\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }\n      }, \"S.M\")];\n    } else if (type === \"admin\") {\n      return [/*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        onClick: () => this.onUserChange(id, \"user\"),\n        class: \"btn btn-warning\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }\n      }, \"User\"), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        onClick: () => this.onSmChange(id, \"sm\", email),\n        class: \"btn btn-success\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }\n      }, \"S.M\")];\n    } else if (type === \"sm\") {\n      return [/*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        onClick: () => this.onUserChange(id, \"admin\"),\n        class: \"btn btn-warning\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }\n      }, \"Admin\"), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        onClick: () => this.onUserChange(id, \"user\"),\n        class: \"btn btn-success\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }\n      }, \"User\")];\n    }\n  }\n\n  render() {\n    if (localStorage.getItem('userEmail')) {\n      const {\n        users\n      } = this.state;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        class: \"container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 26\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"row justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col-md-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"card-header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 33\n        }\n      }, \"Users\"), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"card-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"table\", {\n        class: \"table\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        class: \"tableTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 49\n        }\n      }, \"First Name\"), /*#__PURE__*/React.createElement(\"th\", {\n        class: \"tableTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 49\n        }\n      }, \"Last Name\"), /*#__PURE__*/React.createElement(\"th\", {\n        class: \"tableTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 49\n        }\n      }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n        class: \"tableTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 49\n        }\n      }, \"Phone\"), /*#__PURE__*/React.createElement(\"th\", {\n        class: \"tableTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 49\n        }\n      }, \"User Type\"), /*#__PURE__*/React.createElement(\"th\", {\n        class: \"tableTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 49\n        }\n      }, \"Change\"), /*#__PURE__*/React.createElement(\"th\", {\n        class: \"tableTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 49\n        }\n      }, \"Remove User\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 41\n        }\n      }, users.map(user => /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        class: \"tableTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 49\n        }\n      }, user.fname), /*#__PURE__*/React.createElement(\"td\", {\n        class: \"tableTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 49\n        }\n      }, user.lname), /*#__PURE__*/React.createElement(\"td\", {\n        class: \"tableTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 49\n        }\n      }, user.email), /*#__PURE__*/React.createElement(\"td\", {\n        class: \"tableTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 49\n        }\n      }, user.phone), /*#__PURE__*/React.createElement(\"td\", {\n        class: \"tableTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 49\n        }\n      }, user.type), /*#__PURE__*/React.createElement(\"td\", {\n        class: \"tableTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 49\n        }\n      }, this.editButton(user.type, user._id, user.email)), /*#__PURE__*/React.createElement(\"td\", {\n        class: \"tableTh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        onClick: () => this.onDelete(user._id),\n        class: \"btn btn-danger\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 69\n        }\n      }, \"Delete\")))))))))));\n    }\n  }\n\n}\n\nexport default Users;","map":{"version":3,"sources":["C:/Users/keuda/Desktop/react/react/project/stack-client/src/components/usersList.js"],"names":["React","api","ButterToast","Cinnamon","AssignmentTurnedIn","Users","Component","constructor","props","state","users","componentDidMount","url","fetch","then","response","json","setState","filter","user","email","localStorage","getItem","onDelete","id","window","confirm","registerUser","delete","res","raise","content","Crisp","SCHEME_PURPLE","onUserChange","type","data","update","onSmChange","editButton","render","map","fname","lname","phone","_id"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport '../App.css';\r\nimport api from \"../actions/api.js\";\r\nimport ButterToast, { Cinnamon } from \"butter-toast\";\r\nimport { AssignmentTurnedIn } from \"@material-ui/icons\";\r\n\r\nclass Users extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            users: []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const url = \"http://localhost:4000/register\";\r\n        fetch(url).then(response => response.json())\r\n        .then(json => this.setState({users: json.filter(user => user.email!==localStorage.getItem('userEmail'))}))\r\n    }\r\n\r\n    onDelete(id){\r\n        if (window.confirm(\"Are you sure to delete this record?\")) {\r\n            api.registerUser().delete(id)\r\n            .then(res =>{\r\n                ButterToast.raise({\r\n                    content: <Cinnamon.Crisp title=\"Online Store\"\r\n                        content=\"Delete Successful!\"\r\n                        scheme={Cinnamon.Crisp.SCHEME_PURPLE}\r\n                        icon={<AssignmentTurnedIn />}\r\n                    />\r\n                })\r\n                this.componentDidMount()\r\n            });\r\n        }\r\n    }\r\n\r\n    onUserChange(id,type){\r\n        if (window.confirm(\"Are you sure to change the privilege?\")) {\r\n            var data = { type:type}\r\n            api.registerUser().update(id,data)\r\n            .then(res =>{\r\n                ButterToast.raise({\r\n                    content: <Cinnamon.Crisp title=\"Online Store\"\r\n                        content=\"Change Successful!\"\r\n                        scheme={Cinnamon.Crisp.SCHEME_PURPLE}\r\n                        icon={<AssignmentTurnedIn />}\r\n                    />\r\n                })\r\n                this.componentDidMount()\r\n            })\r\n        }\r\n    }\r\n\r\n    onSmChange(id,type,email){\r\n        this.onUserChange(id,type)\r\n        var data = { email:email }\r\n        api.registerUser().email(data)\r\n    }\r\n\r\n    editButton(type,id,email){\r\n        if(type===\"user\"){\r\n            return  [<button type='button' onClick={() => this.onUserChange(id,\"admin\")} class='btn btn-warning'>Admin</button>,\r\n                    <br></br>,\r\n            <button type='button' onClick={() => this.onSmChange(id,\"sm\",email)} class='btn btn-success'>S.M</button>];\r\n        }else if(type===\"admin\"){\r\n            return [<button type='button' onClick={() => this.onUserChange(id,\"user\")} class='btn btn-warning'>User</button>,\r\n                    <br></br>,\r\n            <button type='button' onClick={() => this.onSmChange(id,\"sm\",email)} class='btn btn-success'>S.M</button>];\r\n        }else if(type===\"sm\"){\r\n            return [<button type='button' onClick={() => this.onUserChange(id,\"admin\")} class='btn btn-warning'>Admin</button>,\r\n                    <br></br>,\r\n            <button type='button' onClick={() => this.onUserChange(id,\"user\")} class='btn btn-success'>User</button>];\r\n        }\r\n    }\r\n\r\n    render (){\r\n        if(localStorage.getItem('userEmail')){\r\n            const {users} = this.state;\r\n            return (\r\n                <div class=\"container\">\r\n                <br></br><br></br>\r\n                    <div class=\"row justify-content-center\">\r\n                        <div class=\"col-md-12\">\r\n                            <div class=\"card\">\r\n                                <div class=\"card-header\">Users</div>\r\n                                <div class=\"card-body\">\r\n                                    <table class=\"table\">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th class=\"tableTh\">First Name</th>\r\n                                                <th class=\"tableTh\">Last Name</th>\r\n                                                <th class=\"tableTh\">Email</th>\r\n                                                <th class=\"tableTh\">Phone</th>\r\n                                                <th class=\"tableTh\">User Type</th>\r\n                                                <th class=\"tableTh\">Change</th>\r\n                                                <th class=\"tableTh\">Remove User</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                        {\r\n\r\n                                            users.map((user) =>\r\n\r\n                                            <tr>\r\n                                                <td class=\"tableTh\">{ user.fname }</td>\r\n                                                <td class=\"tableTh\">{ user.lname }</td>\r\n                                                <td class=\"tableTh\">{ user.email }</td>\r\n                                                <td class=\"tableTh\">{ user.phone }</td>\r\n                                                <td class=\"tableTh\">{ user.type }</td>\r\n                                                <td class=\"tableTh\">{this.editButton(user.type,user._id,user.email)}</td>\r\n                                                <td class=\"tableTh\"><button type='button' onClick={() => this.onDelete(user._id)} class='btn btn-danger'>Delete</button></td>\r\n                                            </tr>\r\n                                        )}\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport default Users;\r\n"]},"metadata":{},"sourceType":"module"}